<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üéÆ Ultimate Mini Game Hub üéÆ</title>
<style>
  body {
    font-family: 'Poppins', sans-serif;
    background: radial-gradient(circle at top left, #111, #1a1a2a, #000);
    color: white;
    text-align: center;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
  }
  h1 {
    margin-top: 15px;
    text-shadow: 0 0 10px #00eaff, 0 0 20px #00ffaa;
  }
  #menu {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
    margin: 15px;
  }
  button {
    margin: 5px;
    padding: 10px 18px;
    font-size: 16px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    background: linear-gradient(135deg, #007bff, #00ffaa);
    color: white;
    transition: 0.2s;
    box-shadow: 0 0 10px #00ffaa55;
  }
  button:hover {
    transform: scale(1.05);
    box-shadow: 0 0 15px #00ffaa;
  }
  .game {
    display: none;
    margin-top: 25px;
    min-height: 200px;
  }
  .active {
    display: block;
  }
  table {
    margin: 0 auto;
    border-collapse: collapse;
  }
  td {
    width: 70px;
    height: 70px;
    border: 2px solid #00ffaa;
    font-size: 36px;
    text-align: center;
    cursor: pointer;
  }
  td:hover {
    background: #00ffaa22;
  }
  #scoreboard {
    font-size: 18px;
    color: #00ffaa;
    margin: 10px 0;
  }
  input {
    padding: 8px;
    font-size: 16px;
    border-radius: 6px;
    border: none;
    outline: none;
  }
</style>
</head>
<body>

<h1>üéÆ Ultimate Mini Game Hub üéÆ</h1>
<p id="scoreboard">Total Score: <span id="totalScore">0</span></p>

<div id="menu"></div>

<!-- GAMES AREA -->
<div id="games"></div>

<script>
/* ========== GLOBAL SCORE SYSTEM ========== */
let totalScore = 0;
function addScore(points) {
  totalScore += points;
  document.getElementById('totalScore').textContent = totalScore;
  localStorage.setItem("totalScore", totalScore);
}
window.onload = () => {
  totalScore = Number(localStorage.getItem("totalScore")) || 0;
  document.getElementById('totalScore').textContent = totalScore;
  createMenu();
  drawBoard();
  setupMemory();
};

/* ========== MENU BUILDER ========== */
const gameList = [
  "Tic Tac Toe","Guess the Number","Rock Paper Scissors","Clicker Game","Memory Match",
  "Whack-a-Mole","Reaction Speed","Typing Speed","Math Quiz","Color Match",
  "Word Scramble","Simon Says","Coin Catcher","Pattern Memory","Target Clicker",
  "Snake","Flappy Dot","Hangman","Trivia Quiz","Maze Escape"
];
function createMenu() {
  const menu = document.getElementById('menu');
  gameList.forEach((name, i) => {
    const btn = document.createElement('button');
    btn.textContent = name;
    btn.onclick = () => showGame(`game${i+1}`);
    menu.appendChild(btn);
  });
}

/* ========== GAME VIEW MANAGER ========== */
function showGame(id) {
  document.querySelectorAll('.game').forEach(g => g.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

/* ========== ADD ALL GAMES CONTAINERS ========== */
const gamesHTML = [
  /* 1 */ `<div id="game1" class="game"><h2>Tic Tac Toe</h2><table id="board"></table><p id="winner"></p><button onclick="resetTicTacToe()">Restart</button></div>`,
  /* 2 */ `<div id="game2" class="game"><h2>Guess the Number</h2><p>Level: <span id="guessLevel">1</span> (1‚Äì10)</p><input type="number" id="guessInput"><button onclick="checkGuess()">Guess</button><p id="guessResult"></p></div>`,
  /* 3 */ `<div id="game3" class="game"><h2>Rock Paper Scissors</h2><button onclick="playRPS('rock')">ü™®</button><button onclick="playRPS('paper')">üìú</button><button onclick="playRPS('scissors')">‚úÇÔ∏è</button><p id="rpsResult"></p></div>`,
  /* 4 */ `<div id="game4" class="game"><h2>Clicker Game</h2><p>Level: <span id="clickLevel">1</span> | Goal: <span id="clickGoal">20</span></p><p>Clicks: <span id="clickCount">0</span></p><button onclick="increaseClick()">Click Me!</button><p id="clickResult"></p></div>`,
  /* 5 */ `<div id="game5" class="game"><h2>Memory Match</h2><p>Level: <span id="memoryLevel">1</span></p><div id="memoryBoard" style="display:flex;flex-wrap:wrap;justify-content:center;gap:10px;"></div><p id="memoryResult"></p><button onclick="setupMemory()">Restart</button></div>`,
  /* 6 */ `<div id="game6" class="game"><h2>Whack-a-Mole</h2><p>Score: <span id="moleScore">0</span></p><div id="moleBoard" style="display:grid;grid-template-columns:repeat(3,100px);gap:10px;justify-content:center;"></div><button onclick="startMoles()">Start</button></div>`,
  /* 7 */ `<div id="game7" class="game"><h2>Reaction Speed</h2><p id="reactMsg">Click ‚ÄúStart‚Äù and wait for green!</p><button onclick="startReaction()">Start</button><p id="reactionTime"></p></div>`,
  /* 8 */ `<div id="game8" class="game"><h2>Typing Speed</h2><p id="typeText"></p><input id="typeInput" oninput="checkTyping()"><p id="typeResult"></p><button onclick="startTyping()">Restart</button></div>`,
  /* 9 */ `<div id="game9" class="game"><h2>Math Quiz</h2><p id="mathQ"></p><input id="mathA"><button onclick="checkMath()">Answer</button><p id="mathResult"></p></div>`,
  /* 10 */ `<div id="game10" class="game"><h2>Color Match</h2><p>Pick the color shown: <span id="colorGoal"></span></p><div id="colorChoices" style="display:flex;justify-content:center;gap:10px;"></div><p id="colorResult"></p></div>`,
  /* 11 */ `<div id="game11" class="game"><h2>Word Scramble</h2><p id="scrambledWord"></p><input id="wordGuess"><button onclick="checkScramble()">Guess</button><p id="scrambleResult"></p></div>`,
  /* 12 */ `<div id="game12" class="game"><h2>Simon Says</h2><div id="simonBtns" style="display:flex;justify-content:center;gap:15px;"></div><p id="simonMsg"></p><button onclick="startSimon()">Start</button></div>`,
  /* 13 */ `<div id="game13" class="game"><h2>Coin Catcher</h2><canvas id="coinCanvas" width="300" height="300" style="background:#111;border:2px solid #00ffaa"></canvas><p>Use ‚¨ÖÔ∏è‚û°Ô∏è keys to move</p></div>`,
  /* 14 */ `<div id="game14" class="game"><h2>Pattern Memory</h2><p id="patternShow"></p><input id="patternInput"><button onclick="checkPattern()">Submit</button><p id="patternResult"></p></div>`,
  /* 15 */ `<div id="game15" class="game"><h2>Target Clicker</h2><div id="targetArea" style="position:relative;width:300px;height:300px;margin:auto;background:#000;border:2px solid #00ffaa;"></div><p id="targetScore">Score: 0</p><button onclick="startTarget()">Start</button></div>`,
  /* 16 */ `<div id="game16" class="game"><h2>Snake</h2><canvas id="snakeCanvas" width="300" height="300" style="background:#000;border:2px solid #00ffaa"></canvas><p>Use arrow keys!</p></div>`,
  /* 17 */ `<div id="game17" class="game"><h2>Flappy Dot</h2><canvas id="flappyCanvas" width="300" height="300" style="background:#000;border:2px solid #00ffaa"></canvas><button onclick="startFlappy()">Start</button></div>`,
  /* 18 */ `<div id="game18" class="game"><h2>Hangman</h2><p id="hangWord"></p><input id="hangInput" maxlength="1"><button onclick="guessHang()">Guess</button><p id="hangResult"></p></div>`,
  /* 19 */ `<div id="game19" class="game"><h2>Trivia Quiz</h2><p id="triviaQ"></p><div id="triviaOptions"></div><p id="triviaResult"></p><button onclick="nextTrivia()">Next</button></div>`,
  /* 20 */ `<div id="game20" class="game"><h2>Maze Escape</h2><canvas id="mazeCanvas" width="300" height="300" style="background:#000;border:2px solid #00ffaa"></canvas><p>Use arrows to move!</p></div>`
];
document.getElementById('games').innerHTML = gamesHTML.join("");

/* ========== GAME LOGIC ========== */

/* --- Tic Tac Toe --- */
let board=[['','',''],['','',''],['','','']],currentPlayer='X';
function drawBoard(){const table=document.getElementById('board');table.innerHTML='';board.forEach((r,i)=>{const tr=document.createElement('tr');r.forEach((c,j)=>{const td=document.createElement('td');td.textContent=c;td.onclick=()=>makeMove(i,j);tr.appendChild(td);});table.appendChild(tr);});}
function makeMove(i,j){if(board[i][j]||checkWinner())return;board[i][j]=currentPlayer;drawBoard();const w=checkWinner();if(w){document.getElementById('winner').textContent=`${w} wins!`;addScore(20);}currentPlayer=currentPlayer==='X'?'O':'X';}
function checkWinner(){const lines=[...board,...[0,1,2].map(i=>board.map(r=>r[i])),[board[0][0],board[1][1],board[2][2]],[board[0][2],board[1][1],board[2][0]]];for(const l of lines)if(l.every(c=>c==='X'||c==='O')&&l[0])return l[0];return null;}
function resetTicTacToe(){board=[['','',''],['','',''],['','','']];currentPlayer='X';document.getElementById('winner').textContent='';drawBoard();}

/* --- Guess Number --- */
let guessLevel=1,maxNum=10,secret=Math.floor(Math.random()*maxNum)+1;
function checkGuess(){const g=Number(document.getElementById('guessInput').value);const r=document.getElementById('guessResult');if(g===secret){r.textContent="üéâ Correct! Next!";addScore(10);guessLevel++;maxNum+=10;document.getElementById('guessLevel').textContent=guessLevel;secret=Math.floor(Math.random()*maxNum)+1;}else r.textContent=g<secret?"Too low!":"Too high!";}

/* --- Rock Paper Scissors --- */
function playRPS(p){const c=['rock','paper','scissors'][Math.floor(Math.random()*3)];let res='';if(p===c)res="It's a tie!";else if((p==='rock'&&c==='scissors')||(p==='paper'&&c==='rock')||(p==='scissors'&&c==='paper')){res=`You win!`;addScore(5);}else res=`You lose!`;document.getElementById('rpsResult').textContent=`${res} (${p} vs ${c})`;}

/* --- Clicker --- */
let clicks=0,clickGoal=20,clickLevel=1;
function increaseClick(){clicks++;document.getElementById('clickCount').textContent=clicks;if(clicks>=clickGoal){addScore(15);clickLevel++;clickGoal=Math.floor(clickGoal*1.5);clicks=0;document.getElementById('clickLevel').textContent=clickLevel;document.getElementById('clickGoal').textContent=clickGoal;document.getElementById('clickCount').textContent=clicks;document.getElementById('clickResult').textContent="üéâ Level Up!";}}

/* --- Memory --- */
let memoryLevel=1,memoryCards=[],flipped=[];
function setupMemory(){const b=document.getElementById('memoryBoard');b.innerHTML='';document.getElementById('memoryResult').textContent='';const e=['üçé','üçå','üçá','üçì','üçâ','üçç','ü•ù'].slice(0,memoryLevel+1);memoryCards=[...e,...e].sort(()=>Math.random()-0.5);flipped=[];memoryCards.forEach((emoji,i)=>{const btn=document.createElement('button');btn.style.fontSize='30px';btn.style.width='70px';btn.style.height='70px';btn.textContent='?';btn.onclick=()=>flipCard(i,btn);b.appendChild(btn);});}
function flipCard(i,btn){if(flipped.includes(i)||flipped.length>=2)return;btn.textContent=memoryCards[i];flipped.push(i);if(flipped.length===2){const[a,b]=flipped;if(memoryCards[a]===memoryCards[b]){flipped=[];if([...document.querySelectorAll('#memoryBoard button')].every(b=>b.textContent!=='?')){addScore(25);memoryLevel++;document.getElementById('memoryLevel').textContent=memoryLevel;document.getElementById('memoryResult').textContent='üéâ Cleared!';setTimeout(setupMemory,1000);}}else setTimeout(()=>{document.querySelectorAll('#memoryBoard button')[a].textContent='?';document.querySelectorAll('#memoryBoard button')[b].textContent='?';flipped=[];},700);}}

/* --- Whack-a-Mole --- */
let moleScore=0,moleTimer;
function startMoles(){const b=document.getElementById('moleBoard');b.innerHTML='';moleScore=0;document.getElementById('moleScore').textContent=moleScore;for(let i=0;i<9;i++){const h=document.createElement('button');h.textContent='üï≥Ô∏è';h.style.height='80px';h.onclick=()=>{if(h.textContent==='üêπ'){h.textContent='üï≥Ô∏è';moleScore++;addScore(2);document.getElementById('moleScore').textContent=moleScore;}};b.appendChild(h);}clearInterval(moleTimer);moleTimer=setInterval(()=>{const holes=b.querySelectorAll('button');holes.forEach(h=>h.textContent='üï≥Ô∏è');holes[Math.floor(Math.random()*9)].textContent='üêπ';},800);}

/* --- Reaction Speed --- */
let reactTimeout,startTime;
function startReaction(){const m=document.getElementById('reactMsg');m.style.background='none';m.textContent='Wait...';clearTimeout(reactTimeout);const d=Math.random()*3000+2000;reactTimeout=setTimeout(()=>{m.style.background='green';m.textContent='CLICK!';startTime=Date.now();m.onclick=()=>{const t=Date.now()-startTime;document.getElementById('reactionTime').textContent=`‚è±Ô∏è ${t}ms`;if(t<300)addScore(15);m.onclick=null;m.style.background='none';};},d);}

/* --- Typing Speed --- */
let typingWords=["galaxy","puzzle","adventure","arcade","neon"],currentWord="";
function startTyping(){currentWord=typingWords[Math.floor(Math.random()*typingWords.length)];document.getElementById('typeText').textContent=currentWord;document.getElementById('typeInput').value='';}
function checkTyping(){if(document.getElementById('typeInput').value===currentWord){document.getElementById('typeResult').textContent='‚úÖ';addScore(10);startTyping();}}
startTyping();

/* --- Math Quiz --- */
let a=0,b=0;
function newMath(){a=Math.floor(Math.random()*10)+1;b=Math.floor(Math.random()*10)+1;document.getElementById('mathQ').textContent=`${a} + ${b} = ?`;document.getElementById('mathA').value='';}
function checkMath(){const ans=Number(document.getElementById('mathA').value);if(ans===a+b){addScore(10);document.getElementById('mathResult').textContent='‚úÖ';}else document.getElementById('mathResult').textContent='‚ùå';newMath();}
newMath();

/* --- Color Match --- */
const colors=["red","green","blue","yellow","purple"];
function setupColor(){const goal=colors[Math.floor(Math.random()*colors.length)];document.getElementById('colorGoal').textContent=goal;const cont=document.getElementById('colorChoices');cont.innerHTML='';colors.forEach(c=>{const btn=document.createElement('button');btn.style.background=c;btn.onclick=()=>{if(c===goal){addScore(10);document.getElementById('colorResult').textContent='‚úÖ';setupColor();}else document.getElementById('colorResult').textContent='‚ùå';};cont.appendChild(btn);});}
setupColor();

/* --- Word Scramble --- */
let words=["banana","orange","apple","grape","cherry"],scrWord="";
function newScramble(){const w=words[Math.floor(Math.random()*words.length)];scrWord=w.split('').sort(()=>Math.random()-0.5).join('');document.getElementById('scrambledWord').textContent=scrWord;document.getElementById('wordGuess').value='';}
function checkScramble(){const g=document.getElementById('wordGuess').value;if(words.includes(g)&&g.split('').sort().join('')===scrWord.split('').sort().join('')){addScore(10);document.getElementById('scrambleResult').textContent='üéâ';newScramble();}else document.getElementById('scrambleResult').textContent='‚ùå';}
newScramble();

/* --- Simon Says --- */
let simSeq=[],userSeq=[];
function startSimon(){simSeq=[];userSeq=[];nextSimon();}
function nextSimon(){const colors=['red','blue','green','yellow'];simSeq.push(colors[Math.floor(Math.random()*4)]);showSimon();}
function showSimon(){const area=document.getElementById('simonBtns');area.innerHTML='';['red','blue','green','yellow'].forEach(c=>{const b=document.createElement('button');b.style.background=c;b.style.width='60px';b.style.height='60px';b.onclick=()=>handleSimon(c);area.appendChild(b);});let i=0;const flash=setInterval(()=>{document.getElementById('simonMsg').textContent=simSeq[i];i++;if(i>=simSeq.length)clearInterval(flash);},800);}
function handleSimon(c){userSeq.push(c);if(userSeq[userSeq.length-1]!==simSeq[userSeq.length-1]){document.getElementById('simonMsg').textContent='‚ùå';return;}if(userSeq.length===simSeq.length){addScore(10);userSeq=[];nextSimon();}}

/* --- Coin Catcher --- */
const coinCanvas=document.getElementById('coinCanvas');const ctx=coinCanvas.getContext('2d');
let playerX=140,coinX=Math.random()*280,coinY=0,speed=3;
function loopCoin(){ctx.clearRect(0,0,300,300);ctx.fillStyle='yellow';ctx.fillRect(coinX,coinY,15,15);ctx.fillStyle='cyan';ctx.fillRect(playerX,270,40,20);coinY+=speed;if(coinY>300){coinY=0;coinX=Math.random()*280;}if(coinY>250&&coinX>playerX-10&&coinX<playerX+40){addScore(5);coinY=0;coinX=Math.random()*280;}requestAnimationFrame(loopCoin);}
document.addEventListener('keydown',e=>{if(e.key==='ArrowLeft')playerX-=20;if(e.key==='ArrowRight')playerX+=20;});
loopCoin();

/* --- Pattern Memory --- */
let pattern="";function newPattern(){pattern=Math.floor(Math.random()*1000).toString();document.getElementById('patternShow').textContent=pattern;setTimeout(()=>document.getElementById('patternShow').textContent='',1000);}
function checkPattern(){if(document.getElementById('patternInput').value===pattern){addScore(15);document.getElementById('patternResult').textContent='‚úÖ';newPattern();}else document.getElementById('patternResult').textContent='‚ùå';}
newPattern();

/* --- Target Clicker --- */
function startTarget(){const area=document.getElementById('targetArea');area.innerHTML='';let score=0;for(let i=0;i<10;i++){const t=document.createElement('div');t.style.position='absolute';t.style.width='30px';t.style.height='30px';t.style.borderRadius='50%';t.style.background='#00ffaa';t.style.left=Math.random()*270+'px';t.style.top=Math.random()*270+'px';t.onclick=()=>{t.remove();score++;addScore(2);document.getElementById('targetScore').textContent='Score: '+score;};area.appendChild(t);}}

/* --- Snake --- */
const sCanvas=document.getElementById('snakeCanvas');const sCtx=sCanvas.getContext('2d');
let snake=[{x:10,y:10}],dir='right',food={x:5,y:5};
document.addEventListener('keydown',e=>{if(['ArrowUp','ArrowDown','ArrowLeft','ArrowRight'].includes(e.key))dir=e.key.replace('Arrow','').toLowerCase();});
function snakeLoop(){sCtx.fillStyle='black';sCtx.fillRect(0,0,300,300);sCtx.fillStyle='red';sCtx.fillRect(food.x*15,food.y*15,15,15);sCtx.fillStyle='lime';snake.forEach(p=>sCtx.fillRect(p.x*15,p.y*15,15,15));const head={...snake[0]};if(dir==='up')head.y--;if(dir==='down')head.y++;if(dir==='left')head.x--;if(dir==='right')head.x++;snake.unshift(head);if(head.x===food.x&&head.y===food.y){addScore(5);food={x:Math.floor(Math.random()*20),y:Math.floor(Math.random()*20)};}else snake.pop();if(head.x<0||head.y<0||head.x>19||head.y>19)snake=[{x:10,y:10}];setTimeout(snakeLoop,150);}
snakeLoop();

/* --- Flappy Dot --- */
const fCanvas=document.getElementById('flappyCanvas');const fCtx=fCanvas.getContext('2d');
let fy=150,fVel=0,pipes=[];
function startFlappy(){fy=150;fVel=0;pipes=[];function loop(){fCtx.fillStyle='black';fCtx.fillRect(0,0,300,300);fy+=fVel;fVel+=0.4;fCtx.fillStyle='yellow';fCtx.beginPath();fCtx.arc(60,fy,8,0,Math.PI*2);fCtx.fill();if(Math.random()<0.02)pipes.push({x:300,y:Math.random()*200+50});pipes.forEach(p=>{p.x-=3;fCtx.fillStyle='lime';fCtx.fillRect(p.x,0,20,p.y-50);fCtx.fillRect(p.x,p.y+50,20,300);if(p.x<70&&p.x>40&&(fy<p.y-50||fy>p.y+50)){fy=150;fVel=0;pipes=[];}if(p.x<0)addScore(1);});if(fy>290)fy=150;requestAnimationFrame(loop);}loop();}
fCanvas.addEventListener('click',()=>fVel=-6);

/* --- Hangman --- */
let hangWords=["apple","chair","house","river"],hWord="",display="",attempts=6;
function newHang(){hWord=hangWords[Math.floor(Math.random()*hangWords.length)];display="_ ".repeat(hWord.length);document.getElementById('hangWord').textContent=display;attempts=6;}
function guessHang(){const l=document.getElementById('hangInput').value;document.getElementById('hangInput').value='';if(!hWord.includes(l)){attempts--;if(attempts<=0){document.getElementById('hangResult').textContent="üíÄ";newHang();}}else{display=hWord.split('').map(ch=>display.includes(ch)?ch:(ch===l?l:'_')).join(' ');document.getElementById('hangWord').textContent=display;if(!display.includes('_')){addScore(15);document.getElementById('hangResult').textContent='üéâ';newHang();}}}
newHang();

/* --- Trivia --- */
let triviaIndex=0;
const triviaData=[{q:"Capital of France?",a:["Paris","Rome","Madrid"],c:0},{q:"2+2=?",a:["3","4","5"],c:1},{q:"Largest ocean?",a:["Pacific","Atlantic","Indian"],c:0}];
function nextTrivia(){const q=triviaData[triviaIndex%triviaData.length];document.getElementById('triviaQ').textContent=q.q;const ops=document.getElementById('triviaOptions');ops.innerHTML='';q.a.forEach((ans,i)=>{const b=document.createElement('button');b.textContent=ans;b.onclick=()=>{if(i===q.c){addScore(10);document.getElementById('triviaResult').textContent='‚úÖ';}else document.getElementById('triviaResult').textContent='‚ùå';};ops.appendChild(b);});triviaIndex++;}
nextTrivia();

/* --- Maze --- */
const mz=document.getElementById('mazeCanvas');const mctx=mz.getContext('2d');let px=10,py=10;
document.addEventListener('keydown',e=>{if(!document.getElementById('game20').classList.contains('active'))return;if(e.key==='ArrowUp')py-=5;if(e.key==='ArrowDown')py+=5;if(e.key==='ArrowLeft')px-=5;if(e.key==='ArrowRight')px+=5;});
function loopMaze(){mctx.fillStyle='black';mctx.fillRect(0,0,300,300);mctx.fillStyle='#00ffaa';mctx.fillRect(px,py,10,10);if(px>280&&py>280){addScore(20);px=10;py=10;}requestAnimationFrame(loopMaze);}
loopMaze();
</script>

</body>
</html>
